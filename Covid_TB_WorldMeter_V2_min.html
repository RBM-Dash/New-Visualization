<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>TB & Covid-19</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- including ECharts file -->
    <script src="echarts_4_7.min.js"></script>
	<script src="lodash.js"></script>
	<script src="chroma.js"></script>
	<script src="Covid_TB_Worldometer.js"></script>
	<script src="jquery_3.5.min.js"></script>
	
    <style type="text/css">body{color:#444444;font-family:Arial,Helvetica,sans-serif;font-size:75%}a{color:#4D87C7;text-decoration:none}.callout{position:fixed;bottom:5px;right:20px;margin-left:20px;max-width:100%}.callout-header{padding:5px;background:#555;font-size:14px;color:white}.callout-container{padding:5px;background-color:#ccc;color:black}.closebtn{position:absolute;top:5px;right:15px;color:white;font-size:20px;cursor:pointer}.closebtn:hover{color:lightgrey}.collapsible{background-color:#777;color:white;cursor:pointer;padding:8px;width:100%;border:none;text-align:left;outline:none;font-size:15px}.active,.collapsible:hover{background-color:#555}.collapsible:after{content:'\002B';color:white;font-weight:bold;float:right;margin-left:5px}.active:after{content:"\2212"}.content{padding:0 18px;background-color:white;max-height:0;overflow:hidden;transition:max-height 0.2s ease-out}</style>
  </head>
  
  <body> <!-- prepare a DOM container with width and height -->
    <div id="Covid" style="width: 100%;height: 90vh;"></div>
	<script type="text/javascript">
	function makeTemp(t,h,s,i,a,n,e){this.CountryName=t,this.TBCases=s,this.ISO3=h,this.Days=a,this.CovidAvInc=Math.round(n/a),this.Confirmed=n,this.CovidAvDeaths=Math.round(e/a),this.Deaths=e,this.TBAvDeaths=Math.round(i/365),this.TBDeaths=i,this.TBAvInc=Math.round(s/365)}
	function getDaysSinceFirts(e){let t=Date.now();var n=new Date(e).getTime();return daysDiff(n,t)}
	var myRedScale = ['#ffffe0','#ffe9b7','#ffd196','#ffb67f','#ff9b6f','#f98065','#ee665d','#e14d54','#cf3548','#bb1e37','#a40921','#8b0000','#580000','#2D0000']; var myColors = myRedScale;
	var toWorldo = 'https://api.allorigins.win/get?url=' + encodeURIComponent('https://www.worldometers.info/coronavirus/#countries/');
	$.get( toWorldo, function( data ) {
	    var scrData=[];$(data.contents).find("tr").each(function(){var a=_.split($(this).text(),"\n"),t={};_.startsWith(a[2],"Total")||(t.Country=a[2],t.TotalCases=parseFloat(a[3].replace(/[^\d\.\-]/g,"")),t.TotalDeaths=parseFloat(a[5].replace(/[^\d\.\-]/g,"")),t.NewCases=parseFloat(a[4].replace(/[^\d\.\-]/g,"")),t.NewDeaths=parseFloat(a[6].replace(/[^\d\.\-]/g,"")),scrData.push(t))});var x,temp,Conf,Conft,Dt,Deaths,kk,iso,TBD,WCountries=_.map(scrData,"Country"),WHOCountries=_.map(World2WHO,"WHO_Name");WHOCountries=_.filter(WHOCountries,function(a){return a});var dataMine=[];for(x of WHOCountries){if(kk=_.filter(World2WHO,{WHO_Name:x}),temp=_.filter(scrData,{Country:kk[0].W_Name}),(temp=_.orderBy(temp,["TotalCases","TotalDeaths"],["desc","desc"])).length>0){var aaaa=temp[0];Conf=aaaa.TotalCases,Deaths=aaaa.TotalDeaths,_.isNumber(Conf)&_.isNaN(Deaths)&&(Deaths=0);var ddays=new Date(kk[0].DateFirst),mDays=getDaysSinceFirts(ddays);_.isNil(mDays)&&(mDays=0)}else Conf=0,Deaths=0,mDays=0;inTB=_.filter(TBData,{country:x,indicators:"TB deaths"}),inTB.length>0?(iso=inTB[0].iso3,TBD=inTB[0].x2018,inTB=_.filter(TBData,{country:x,indicators:"TB cases"}),TBC=inTB[0].x2018):(TBD=0,TBC=0);var temp1=new makeTemp(x,iso,TBC,TBD,mDays,Conf,Deaths);dataMine.push(temp1)}for(var resultdata0=[],resultdata1=[],resultdata2=[],resultdata3=[],resultdatab4=[],resultdatab5=[],resultdatab6=[],resultdatab7=[],sum0=0,sum1=0,sum2=0,sum3=0,titledata=[],i=0;i<dataMine.length;i++){var d0={name:dataMine[i].CountryName,value:Number(dataMine[i].TBAvDeaths),date:dataMine[i].Date},d1={name:dataMine[i].CountryName,value:Number(dataMine[i].TBAvInc),date:dataMine[i].Date},d2={name:dataMine[i].CountryName,value:_.isNaN(Number(dataMine[i].CovidAvDeaths))?0:Number(dataMine[i].CovidAvDeaths),date:dataMine[i].Date},d3={name:dataMine[i].CountryName,value:_.isNaN(Number(dataMine[i].CovidAvInc))?0:Number(dataMine[i].CovidAvInc),date:dataMine[i].Date},d4={name:dataMine[i].CountryName,value:Number(dataMine[i].TBDeaths),date:dataMine[i].Date},d5={name:dataMine[i].CountryName,value:Number(dataMine[i].TBCases),date:dataMine[i].Date},d6={name:dataMine[i].CountryName,value:Number(dataMine[i].Deaths),date:dataMine[i].Date},d7={name:dataMine[i].CountryName,value:Number(dataMine[i].Confirmed),date:dataMine[i].Date};titledata.push(dataMine[i].CountryName),resultdata0.push(d0),resultdata1.push(d1),resultdata2.push(d2),resultdata3.push(d3),resultdatab4.push(d4),resultdatab5.push(d5),resultdatab6.push(d6),resultdatab7.push(d7),sum0+=isNaN(dataMine[i].TBDeaths)?0:dataMine[i].TBDeaths,sum1+=isNaN(dataMine[i].TBCases)?0:dataMine[i].TBCases}var mmT=_.filter(scrData,{Country:"World"});function NumDescSort(a,t){return a.value-t.value}sum2=(mmT=_.orderBy(mmT,["TotalCases","TotalDeaths"],["desc","desc"]))[0].TotalDeaths,sum3=mmT[0].TotalCases,resultdata0.sort(NumDescSort),resultdata1.sort(NumDescSort),resultdata2.sort(NumDescSort),resultdata3.sort(NumDescSort),resultdatab4=_.reject(resultdata0,function(a){return isNaN(a.value)}),resultdatab5=_.reject(resultdata1,function(a){return isNaN(a.value)}),resultdatab6=_.reject(resultdata2,function(a){return isNaN(a.value)}),resultdatab7=_.reject(resultdata3,function(a){return isNaN(a.value)});var resultdatab0=_.reject(resultdatab4,function(a){return isNaN(a.value)}),resultdatab1=_.reject(resultdatab5,function(a){return isNaN(a.value)}),resultdatab2=_.reject(resultdatab6,function(a){return isNaN(a.value)}),resultdatab3=_.reject(resultdatab7,function(a){return isNaN(a.value)}),myValues=_.map(resultdatab0,"value").concat(_.map(resultdatab1,"value"));myValues=(myValues=(myValues=(myValues=(myValues=(myValues=myValues.concat(_.map(resultdatab2,"value"))).concat(_.map(resultdatab3,"value"))).concat(_.map(resultdatab4,"value"))).concat(_.map(resultdatab5,"value"))).concat(_.map(resultdatab6,"value"))).concat(_.map(resultdatab7,"value"));var resultdata4=_.orderBy(resultdatab4,"value","desc").slice(0,20),resultdata5=_.orderBy(resultdatab5,"value","desc").slice(0,20),resultdata6=_.orderBy(resultdatab6,"value","desc").slice(0,20),resultdata7=_.orderBy(resultdatab7,"value","desc").slice(0,20),myMax=_.orderBy([resultdata4[0],resultdata5[0],resultdata6[0],resultdata7[0]],"value","desc").slice(0,1),mymax=2*Math.floor(myMax[0].value),titledata4=_.map(resultdata4,"name"),titledata5=_.map(resultdata5,"name"),titledata6=_.map(resultdata6,"name"),titledata7=_.map(resultdata7,"name"),myrange2=chroma.limits(myValues,"q",100),myrange=chroma.limits(myValues,"q",12),NN=_.compact(myrange2).filter(function(a){return a>=0}),myrange3=chroma.limits(NN,"l",13),min0=0,min1=Math.round(myrange3[1]),min2=Math.round(myrange3[2]),min3=Math.round(myrange3[3]),min4=Math.round(myrange3[4]),min5=Math.round(myrange3[5]),min6=Math.round(myrange3[6]),min7=Math.round(myrange3[7]),min8=Math.round(myrange3[8]),min9=Math.round(myrange3[9]),min10=Math.round(myrange3[10]),min11=Math.round(myrange3[11]);
		var myVisualMap=[{type:"piecewise",splitNumber:11,itemGap:3,min:0,max:mymax,seriesIndex:[0,1,2,3],calculable:!0,zlevel:4,outOfRange:{color:"#e8eaed"},formatter:function(e,o){return void 0!==o?e.toLocaleString(void 0,{maximumFractionDigits:0})+" - "+o.toLocaleString(void 0,{maximumFractionDigits:0}):" <= "+e.toLocaleString(void 0,{maximumFractionDigits:0})},pieces:[{min:0,max:min0,label:"<="+min0.toLocaleString(void 0,{maximumFractionDigits:0}),color:myColors[0]},{min:min0,max:min1,color:myColors[1]},{min:min1,max:min2,color:myColors[2]},{min:min2,max:min3,color:myColors[3]},{min:min3,max:min4,color:myColors[4]},{min:min4,max:min5,color:myColors[5]},{min:min5,max:min6,color:myColors[6]},{min:min6,max:min7,color:myColors[7]},{min:min7,max:min8,color:myColors[8]},{min:min8,max:min9,color:myColors[9]},{min:min9,max:min10,color:myColors[10]},{min:min10,max:min11,color:myColors[11]},{min:min11,max:mymax,label:"> "+min11.toLocaleString(void 0,{maximumFractionDigits:0}),color:myColors[12]},{value:999999999999,label:"Not Applicable",color:"#e8eaed"}],showLabel:!0,textStyle:{color:"#414141",fontFamily:'"Helvetica", Helvetica'}}],myDStyle={normal:{areaColor:"#D3D3D3",borderColor:"rgba(255,255,255,.5)",shadowColor:"#1773c3",shadowBlur:0},emphasis:{areaColor:"#E3E3E3",color:"#414141",borderColor:BGColor="rgb(65,65,65,0.5)",borderWidth:.5}},myToolbox={show:!0,orient:"vertical",left:"right",top:"center",feature:{saveAsImage:{title:"save as image"}}},myGrid={left:"right",top:"bottom",width:"30%",height:"80%"},myXAxis=[{position:"top",type:"value",boundaryGap:!1,splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1}}],myYAxis=[{type:"category",data:titledata,axisTick:{alignWithLabel:!0}}],myToolTip={trigger:"item",confine:!0,formatter:function(e){var o=_.filter(dataMine,{CountryName:e.name}),t=(o=o[0]).TBAvInc<1?"<1":Number(o.TBAvInc).toLocaleString(void 0,{maximumFractionDigits:0}),i=o.TBAvDeaths<1?"<1":Number(o.TBAvDeaths).toLocaleString(void 0,{maximumFractionDigits:0}),a=o.TBCases<1?"<1":Number(o.TBCases).toLocaleString(void 0,{maximumFractionDigits:0}),l=o.TBDeaths<1?"<1":Number(o.TBDeaths).toLocaleString(void 0,{maximumFractionDigits:0}),n=o.CovidAvInc<1?"<1":Number(o.CovidAvInc).toLocaleString(void 0,{maximumFractionDigits:0}),d=o.CovidAvDeaths<1?"<1":Number(o.CovidAvDeaths).toLocaleString(void 0,{maximumFractionDigits:0}),r=o.Deaths<1?"<1":Number(o.Deaths).toLocaleString(void 0,{maximumFractionDigits:0}),y=o.Confirmed<1?"<1":Number(o.Confirmed).toLocaleString(void 0,{maximumFractionDigits:0});return n=_.isNaN(n)?0:n,d=_.isNaN(d)?0:d,'<div style="border-bottom: 1px solid rgba(255,255,255,.3); font-size: 14px;padding-bottom: 7px;margin-bottom: 7px">'+e.name+"   <br/></div>People developing <b>TB</b> per day: <b>"+t+"</b><br/>People dying from <b>TB</b> per day: <b>"+i+"</b><br/>People developing <b>TB</b> per year: <b>"+a+"</b><br/>People dying from <b>TB</b> per year: <b>"+l+"</b><br/><br/>People confirmed <b>+ to Covid-19</b> per day: <b>"+n+"</b><br/>People dying from <b>Covid-19</b> per day: <b>"+d+"</b><br/>People confirmed <b>+ to Covid-19</b>, Total: <b>"+y+"</b><br/>People dying from <b>Covid-19</b> Total: <b>"+r+"</b><br/>"}},myChart=echarts.init(document.getElementById("Covid"));function autoFontSize(e,o){return document.getElementById("Covid").offsetWidth>=700?""+e:""+o}myChart.setOption({series:[{type:"map",map:"world"}]}),optionTBD={title:[{text:"People dying from TB (average per day)",left:"center",textStyle:{color:"black",fontSize:autoFontSize(20,12)}},{text:"WHO Global TB Database",link:"https://www.who.int/tb/country/data/download/en/",target:"blank",top:"bottom",left:"right",textStyle:{color:"lightgrey",fontSize:autoFontSize(12,10)}},{subtext:"Please click one of these indicators",top:"2%",left:"left"},{text:"Global TB Deaths (2018): "+sum0.toLocaleString(void 0,{maximumFractionDigits:0}),left:"right",bottom:"6%",textStyle:{color:"black",fontSize:autoFontSize(18,12)}}],tooltip:myToolTip,legend:{top:"8%",orient:"horizontal",left:"left",width:"100%",itemGap:6,itemWidth:15,itemHeight:10,data:["People dying from TB per day","People getting sick with TB per day","People dying from Covid-19 per day","People getting sick with Covid-19 per day"],selected:{"People dying from TB per day":!0,"People getting sick with TB per day":!1,"People dying from Covid-19 per day":!1,"People getting sick with Covid-19 per day":!1}},visualMap:myVisualMap,toolbox:myToolbox,grid:myGrid,xAxis:myXAxis,yAxis:[{type:"category",inverse:!0,data:titledata4,axisTick:{alignWithLabel:!0}}],geo:{id:"mygeo",map:"world",left:"1%",right:"35%",top:100,bottom:"5%",zoom:.75,roam:!0,label:{normal:{show:!1},emphasis:{show:!0,fontFamily:'"Helvetica", Helvetica',color:"rgba(255,255,255,.7)",backgroundColor:"rgba(0, 0, 0, 0.4)",borderRadius:4,padding:4,borderWidth:.1,borderColor:"rgb(65,65,65,0.5)"}},regions:myDRegions,itemStyle:myDStyle},series:[{z:3,zlevel:2,name:"People dying from TB per day",geoIndex:0,type:"map",mapType:"world",left:"1%",right:"35%",top:100,bottom:"5%",zoom:.75,data:resultdata0},{z:3,name:"People getting sick with TB per day",type:"map"},{z:3,name:"People dying from Covid-19 per day",type:"map"},{z:3,name:"People getting sick with Covid-19 per day",type:"map"},{name:"Top 20 Countries",z:1,type:"bar",label:{normal:{formatter:function(e,o){return e.data.value.toLocaleString(void 0,{maximumFractionDigits:0})},show:!0},emphasis:{show:!0}},itemStyle:{color:"#8b0000",barBorderColor:"#8b0000",barBorderRadius:3},data:resultdata4},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(China_India_Right),lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(China_India_1),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(India_China_2),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(India_China_3),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(India_Pakistan_1),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(India_China_4),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(India_China_5),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(India_China_6),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(Sudan_SSudan),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,data:convertData(Egypt_Sudan),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(India_Pakistan),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(Ethiopia_Somalia),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}}]},optionTBI={title:[{text:"People getting sick with TB (average per day)",left:"center",textStyle:{color:"black",fontSize:autoFontSize(20,12)}},{text:"WHO Global TB Database",link:"https://www.who.int/tb/country/data/download/en/",target:"blank",top:"bottom",left:"right",textStyle:{color:"lightgrey",fontSize:autoFontSize(12,10)}},{subtext:"Please click one of these indicators",top:"2%",left:"left"},{text:"People with TB (Global, 2018): "+sum1.toLocaleString(void 0,{maximumFractionDigits:0}),left:"right",bottom:"6%",textStyle:{color:"black",fontSize:autoFontSize(18,12)}}],tooltip:myToolTip,legend:{top:"8%",orient:"horizontal",left:"left",width:"100%",itemGap:6,itemWidth:15,itemHeight:10,data:["People dying from TB per day","People getting sick with TB per day","People dying from Covid-19 per day","People getting sick with Covid-19 per day"],selected:{"People dying from TB per day":!1,"People getting sick with TB per day":!0,"People dying from Covid-19 per day":!1,"People getting sick with Covid-19 per day":!1},selectedMode:"single"},visualMap:myVisualMap,toolbox:myToolbox,grid:myGrid,xAxis:myXAxis,yAxis:[{type:"category",inverse:!0,data:titledata5,axisTick:{alignWithLabel:!0}}],geo:{id:"mygeo",map:"world",left:"1%",right:"35%",top:100,bottom:"5%",zoom:.75,roam:!0,label:{normal:{show:!1},emphasis:{show:!0,fontFamily:'"Helvetica", Helvetica',color:"rgba(255,255,255,.7)",backgroundColor:"rgba(0, 0, 0, 0.4)",borderRadius:4,padding:4,borderWidth:.1,borderColor:"rgb(65,65,65,0.5)"}},regions:myDRegions,itemStyle:myDStyle},series:[{z:3,name:"People dying from TB per day",type:"map"},{z:3,zlevel:2,name:"People getting sick with TB per day",geoIndex:0,type:"map",mapType:"world",left:"1%",right:"35%",top:100,bottom:"5%",zoom:.75,data:resultdata1},{z:3,name:"People dying from Covid-19 per day",type:"map"},{z:3,name:"People getting sick with Covid-19 per day",type:"map"},{name:"Top 20 Countries",z:1,type:"bar",label:{normal:{formatter:function(e,o){return e.data.value.toLocaleString(void 0,{maximumFractionDigits:0})},show:!0},emphasis:{show:!0}},itemStyle:{color:"#8b0000",barBorderColor:"#8b0000",barBorderRadius:3},data:resultdata5},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(China_India_Right),lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(China_India_1),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(India_China_2),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(India_China_3),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(India_Pakistan_1),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(India_China_4),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(India_China_5),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(India_China_6),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(Sudan_SSudan),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,data:convertData(Egypt_Sudan),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(India_Pakistan),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(Ethiopia_Somalia),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}}]},optionCoD={title:[{text:"People dying from Covid-19 (average per day)",left:"center",textStyle:{color:"black",fontSize:autoFontSize(20,12)}},{text:"Source: Worldometer",link:"https://www.worldometers.info/coronavirus/#countries",target:"blank",top:"bottom",left:"right",textStyle:{color:"lightgrey",fontSize:autoFontSize(12,10)}},{subtext:"Please click one of these indicators",top:"2%",left:"left"},{text:"Covid-19 Deaths (Global): "+sum2.toLocaleString(void 0,{maximumFractionDigits:0}),left:"right",bottom:"6%",textStyle:{color:"black",fontSize:autoFontSize(18,12)}}],tooltip:myToolTip,legend:{top:"8%",orient:"horizontal",left:"left",width:"100%",itemGap:6,itemWidth:15,itemHeight:10,data:["People dying from TB per day","People getting sick with TB per day","People dying from Covid-19 per day","People getting sick with Covid-19 per day"],selected:{"People dying from TB per day":!1,"People getting sick with TB per day":!1,"People dying from Covid-19 per day":!0,"People getting sick with Covid-19 per day":!1},selectedMode:"single"},visualMap:myVisualMap,toolbox:myToolbox,grid:myGrid,xAxis:myXAxis,yAxis:[{type:"category",inverse:!0,data:titledata6,axisTick:{alignWithLabel:!0}}],geo:{id:"mygeo",map:"world",left:"1%",right:"35%",top:100,bottom:"5%",zoom:.75,roam:!0,label:{normal:{show:!1},emphasis:{show:!0,fontFamily:'"Helvetica", Helvetica',color:"rgba(255,255,255,.7)",backgroundColor:"rgba(0, 0, 0, 0.4)",borderRadius:4,padding:4,borderWidth:.1,borderColor:"rgb(65,65,65,0.5)"}},regions:myDRegions,itemStyle:myDStyle},series:[{z:3,name:"People dying from TB per day",type:"map"},{z:3,name:"People getting sick with TB per day",type:"map"},{z:3,zlevel:2,name:"People dying from Covid-19 per day",geoIndex:0,type:"map",mapType:"world",left:"1%",right:"35%",top:100,bottom:"5%",zoom:.75,data:resultdata2},{z:3,name:"People getting sick with Covid-19 per day",type:"map"},{name:"Top 20 Countries",z:1,type:"bar",label:{normal:{formatter:function(e,o){return e.data.value.toLocaleString(void 0,{maximumFractionDigits:0})},show:!0},emphasis:{show:!0}},itemStyle:{color:"#8b0000",barBorderColor:"#8b0000",barBorderRadius:3},data:resultdata6},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(China_India_Right),lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(China_India_1),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(India_China_2),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(India_China_3),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(India_Pakistan_1),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(India_China_4),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(India_China_5),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(India_China_6),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(Sudan_SSudan),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,data:convertData(Egypt_Sudan),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(India_Pakistan),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(Ethiopia_Somalia),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}}]},optionCoI={title:[{text:"People getting sick with Covid-19 (average per day)",left:"center",textStyle:{color:"black",fontSize:autoFontSize(20,12)}},{text:"Source: Worldometer",link:"https://www.worldometers.info/coronavirus/#countries",target:"blank",top:"bottom",left:"right",textStyle:{color:"lightgrey",fontSize:autoFontSize(12,10)}},{subtext:"Please click one of these indicators",top:"2%",left:"left"},{text:"Covid-19 infections (Global): "+sum3.toLocaleString(void 0,{maximumFractionDigits:0}),left:"right",bottom:"6%",textStyle:{color:"black",fontSize:autoFontSize(18,12)}}],tooltip:myToolTip,legend:{top:"8%",orient:"horizontal",left:"left",width:"100%",itemGap:6,itemWidth:15,itemHeight:10,data:["People dying from TB per day","People getting sick with TB per day","People dying from Covid-19 per day","People getting sick with Covid-19 per day"],selected:{"People dying from TB per day":!1,"People getting sick with TB per day":!1,"People dying from Covid-19 per day":!1,"People getting sick with Covid-19 per day":!0},selectedMode:"single"},visualMap:myVisualMap,toolbox:myToolbox,grid:myGrid,xAxis:myXAxis,yAxis:[{type:"category",data:titledata7,inverse:!0,axisTick:{alignWithLabel:!0}}],geo:{id:"mygeo",map:"world",left:"1%",right:"35%",top:100,bottom:"5%",zoom:.75,roam:!0,label:{normal:{show:!1},emphasis:{show:!0,fontFamily:'"Helvetica", Helvetica',color:"rgba(255,255,255,.7)",backgroundColor:"rgba(0, 0, 0, 0.4)",borderRadius:4,padding:4,borderWidth:.1,borderColor:"rgb(65,65,65,0.5)"}},regions:myDRegions,itemStyle:myDStyle},series:[{z:3,name:"People dying from TB per day",type:"map"},{z:3,name:"People getting sick with TB per day",type:"map"},{z:3,name:"People dying from Covid-19 per day",type:"map"},{z:3,zlevel:2,name:"People getting sick with Covid-19 per day",geoIndex:0,type:"map",mapType:"world",left:"1%",right:"35%",top:100,bottom:"5%",zoom:.75,data:resultdata3},{name:"Top 20 countries",z:1,type:"bar",visualMap:!1,label:{normal:{formatter:function(e,o){return e.data.value.toLocaleString(void 0,{maximumFractionDigits:0})},show:!0},emphasis:{show:!0}},itemStyle:{color:"#8b0000",barBorderColor:"#8b0000",barBorderRadius:3},data:resultdata7},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(China_India_Right),lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(China_India_1),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(India_China_2),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(India_China_3),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(India_Pakistan_1),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(India_China_4),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(India_China_5),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(India_China_6),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(Sudan_SSudan),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,data:convertData(Egypt_Sudan),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(India_Pakistan),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}},{type:"lines",zlevel:2,polyline:!0,geoIndex:0,coordinateSystem:"geo",data:convertData(Ethiopia_Somalia),silent:!0,lineStyle:{normal:{color:disputedBoundaryColor,type:"dotted",opacity:1,width:2}}}]},myChart.setOption(optionTBD,!0),myChart.on("legendselectchanged",function(e){"People dying from TB per day"==e.name?myChart.setOption(optionTBD,!0):"People getting sick with TB per day"==e.name?myChart.setOption(optionTBI,!0):"People dying from Covid-19 per day"==e.name?myChart.setOption(optionCoD,!0):myChart.setOption(optionCoI,!0)}),window.onresize=function(){null!=myChart&&void 0!=myChart&&myChart.resize()};
  });
</script>
<button type="button" class="collapsible">Notes & Disclaimer. Press + to get details about data sources, analysis and map boundaries</button>
<div class="content">
  <span class="closebtn" onclick="this.parentElement.style.display='none';">×</span>
	   <p>Covid-19 figures are updated from Worldometer several times a day. The Global TB database from WHO is used as the source for TB data</p>
	   <p>Average daily Covid-19 incidence and deaths are calculated as the total number of people confirmed as Covid-19 positive divided by the number of days transcurred since the first notified case. TB related data reflect estimates provided by WHO for 2018. Daily estimates for TB correspond to yearly estimates for mortality and incidence divided by 365</p>
	   <p>The designations employed and the presentation of the material on this map do not imply the expression of any opinion whatsoever on the part of the Stop TB Secretariat concerning the legal status of any country, territory, city or area or of its authorities, or concerning the delimitation of its frontiers or boundaries. White discontinuous lines are used to represent boundaries under dispute and to approximately show the line of control in Jammu and Kashmir agreed upon by India and Pakistan. This map is based on UN Map No. 4170 Rev. 15 (July 2018). Every effort is made to ensure this map is free of errors but there is no warrant the map or its features are either spatially or temporally accurate or fit for a particular use. This map is provided without any warranty of any kind whatsoever, either express or implied.</p>
	</div>
<script>
var i,coll=document.getElementsByClassName("collapsible");for(i=0;i<coll.length;i++)coll[i].addEventListener("click",function(){this.classList.toggle("active");var l=this.nextElementSibling;l.style.maxHeight?l.style.maxHeight=null:l.style.maxHeight=l.scrollHeight+"px"});
</script>
</body>
</html>
